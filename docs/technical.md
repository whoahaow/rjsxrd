# Техническая документация

## Архитектура генератора

Генератор конфигов построен с использованием модульной архитектуры:

- `config/` - настройки и конфигурационные параметры
- `fetchers/` - модули для загрузки конфигов из внешних источников
- `processors/` - обработка и фильтрация конфигов
- `utils/` - вспомогательные функции и утилиты

### Основные компоненты

#### Fetcher
- Загружает конфиги из 25+ внешних источников
- Обрабатывает ошибки и повторные попытки подключения
- Использует сессии с повторными попытками и адаптеры для устойчивости

#### Processor
- Фильтрует конфиги по SNI доменам для обхода белых списков
- Выполняет дедупликацию по host:port комбинациям
- Разделяет большие файлы на части по 300 конфигов

#### GitHub Handler
- Управляет загрузкой файлов в репозиторий GitHub
- Обрабатывает конфликты SHA и повторные попытки обновления
- Обновляет таблицу в README с актуальной информацией

## Алгоритм работы

1. Загрузка конфигов из всех источников (параллельно)
2. Фильтрация конфигов для файлов 1-25
3. Создание специальных конфигов для обхода (файлы 26+)
4. Разделение больших файлов для избежания проблем с производительностью
5. Загрузка в репозиторий GitHub
6. Обновление статусной таблицы в README

## Оптимизации

- Параллельные загрузки для ускорения процесса
- Кэширование и проверка изменений для избежания лишних коммитов
- Разделение больших файлов (максимум 300 конфигов на файл) для мобильной производительности
- Умные регулярные выражения для быстрой фильтрации